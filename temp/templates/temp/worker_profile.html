{% extends 'base.html' %}
{% load static %}
{% block content %}

<br>
<div class="d-flex justify-content-center">
  <div class="col-md-10" >
    <div class="card worker-profile">

      <div class="card-img-block">
        {% if worker.cover %}
        <img src="{{ worker.cover.url }}" alt="cover-image" width=1700 class="image img-fluid">
        {% else %}
        <img src="https://images.pexels.com/photos/877695/pexels-photo-877695.jpeg?auto=compress&cs=tinysrgb&w=1700" alt="Card image cap" class="image"/>
        {% endif %}
        <div class="middle">
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="text"><a class="fa fa-edit">{{cover_img_form}}</a><button class="btn btn-outline-info" type="submit">Update</button></div>
          </form>
        </div>
      </div>

      <div class="card-body pt-5">
        <div class="profile-box">
          {% if worker.image %}
          <img src="{{ worker.image.url }}" alt="profile-image"  height=150 width=150 class="profile">
          {% else %}
          <img src="/media/images/default-avatar.png" alt="profile-image" height=150 width=150 class="profile">
          {% endif %}
          <div class="middle">
            <form method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="text"><a class="fa fa-edit">{{profile_img_form}}</a><button class="btn btn-outline-info" type="submit">Update</button></div>
            </form>
          </div>
        </div>

          <br>

      <div class="row">
        <div class="col-md-5">
          <div class="description">
            <h5 class="card-title">{{ worker.skill }}</h5>
          </div>
        </div>
        <div class="col-md-5">
          <div class="profile-head">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Timeline</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-2">
            <a href="{% url 'edit_worker_info' %}"> Edit info <i class="fa fa-edit"></i></a>
        </div>
      </div>


      <div class="row">
        <div class="col-md-5">
          <div class="profile-work">
              {{ worker.details}}
          </div>
        </div>
        <div class="col-md-6">
          <div class="tab-content profile-tab" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
              <div class="row">
                <div class="col-md-6">
                  <label>User Id</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.user.username}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label>Name</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.name}} {{worker.lastname}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label>Email</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.user.email}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label>Phone</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.phone}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label>Profession</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.skill}}</p>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
              <div class="row">
                <div class="col-md-6">
                  <label>Hourly rate</label>
                </div>
                <div class="col-md-6">
                  <p>{{worker.hourly_rate}}$/hr</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>

<br>
{% endblock %}
